<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FaceTrack Pro | Login</title>

  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">
</head>

<body class="bg-gray-50 min-h-screen flex items-center justify-center px-4">

  <!-- ================= LOGIN CARD ================= -->
  <div class="w-full max-w-md bg-white border border-gray-200 rounded-2xl shadow-xl p-8">

    <!-- LOGO -->
    <div class="text-center mb-6">
      <h1 class="text-3xl font-extrabold text-blue-600">
        FaceTrack <span class="text-gray-900">Pro</span>
      </h1>
      <p class="text-sm text-gray-500 mt-1">
        Sign in to continue
      </p>
    </div>

    <!-- NORMAL LOGIN FORM (optional / can keep empty if backend needs) -->
    <form method="POST" class="space-y-5">

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Username</label>
        <input type="text" name="username"
               class="w-full px-4 py-3 rounded-xl border border-gray-300
                      focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
        <input type="password" name="password"
               class="w-full px-4 py-3 rounded-xl border border-gray-300
                      focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>
         <a href="#"
          onclick="alert('Please contact system administrator to reset password.')"
          class="text-sm text-blue-600 hover:underline">
          Forgot password?
         </a>
      
      <button type="submit"
              class="w-full py-3 rounded-xl bg-blue-600 text-white font-semibold
                     hover:bg-blue-700 transition shadow-md active:scale-95">
        Login
      </button>

    </form>
        <p class="mt-6 text-center text-sm text-gray-600">
          New user?
           <a href="/auth/signup"
            class="font-semibold text-blue-600 hover:underline">
          Create account
           </a>
        </p>

    <!-- FACE ID BUTTON -->
    <button id="loginFaceID"
            type="button"
            class="mt-4 w-full py-3 rounded-xl border border-blue-600
                   text-blue-600 font-semibold hover:bg-blue-50 transition">
      Login with Face ID
    </button>

  </div>

  <!-- ================= FACE ID MODAL ================= -->
  <div id="faceModal" class="fixed inset-0 z-50 hidden flex items-center justify-center">

    <!-- BACKDROP -->
    <div id="faceBackdrop" class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>

    <!-- MODAL BOX -->
    <div class="relative z-10 w-full max-w-md bg-white rounded-3xl shadow-2xl p-7 mx-4">

      <div class="text-center mb-4">
        <h3 class="text-2xl font-semibold text-gray-800">Face ID Login</h3>
        <p class="text-sm text-gray-500 mt-1">
          Align your face inside the circle
        </p>
      </div>

      <!-- CAMERA + SCAN -->
      <div class="flex flex-col items-center gap-3">

        <div class="relative w-56 h-56">
          <div class="w-full h-full rounded-full overflow-hidden bg-gray-200">
            <video id="modalFaceCam"
                   autoplay playsinline muted
                   class="w-full h-full object-cover"></video>
          </div>

          <!-- SUCCESS OVERLAY -->
          <div id="faceSuccess"
               class="absolute inset-0 hidden items-center justify-center">
            <div class="w-full h-full rounded-full bg-white/70 flex items-center justify-center">
              <svg class="w-20 h-20 text-green-600"
                   viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                      d="M5 13l4 4L19 7"/>
              </svg>
            </div>
          </div>
        </div>

        <div id="modalStatus"
             class="text-sm text-gray-600 min-h-[22px] text-center">
          Initializing cameraâ€¦
        </div>

      </div>

      <!-- ACTIONS -->
      <div class="flex gap-3 mt-5 justify-between">
        <button id="modalCancel"
                class="flex-1 py-2 rounded-xl bg-gray-100 text-gray-700
                       hover:bg-gray-200 transition">
          Cancel
        </button>
        <button id="modalForceCapture"
                class="px-6 py-2 rounded-xl bg-blue-600 text-white font-semibold
                       hover:bg-blue-700 transition">
          Capture
        </button>
      </div>

    </div>
  </div>

  <!-- FACE LOGIN JS -->
  <script src="{{ url_for('static', filename='js/face_login.js') }}"></script>

</body>
</html>
