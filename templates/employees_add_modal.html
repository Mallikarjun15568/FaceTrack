<!-- Add Employee Modal -->
<div id="addEmployeeModal"
     class="fixed inset-0 bg-black bg-opacity-40 hidden items-center justify-center z-50">

  <div class="bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl relative">

    <!-- Close Button -->
    <button onclick="closeAddEmployeeModal()"
            class="absolute top-3 right-3 text-gray-500 hover:text-black text-xl">
      &times;
    </button>

    <h2 class="text-xl font-semibold mb-4">Add New Employee</h2>

    <form id="addEmployeeForm" action="/admin/employees/add" method="POST" enctype="multipart/form-data">

      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

        <div>
          <label class="block text-sm mb-1">Full Name</label>
          <input type="text" name="full_name" required class="w-full p-2 border rounded-lg">
        </div>

        <div>
          <label class="block text-sm mb-1">Email</label>
          <input type="email" name="email" required class="w-full p-2 border rounded-lg">
        </div>

        <div>
          <label class="block text-sm mb-1">Phone</label>
          <input type="text" name="phone" class="w-full p-2 border rounded-lg">
        </div>

        <div>
          <label class="block text-sm mb-1">Gender</label>
          <select name="gender" class="w-full p-2 border rounded-lg">
            <option value="">Select Gender</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
          </select>
        </div>

        <div>
          <label class="block text-sm mb-1">Department</label>
          <select name="department_id" required class="w-full p-2 border rounded-lg">
            <option value="">Select Department</option>
            {% for d in departments %}
            {% if d.name != 'Admin' and d.name != 'Administration' %}
              <option value="{{ d.id }}">{{ d.name }}</option>
            {% endif %}
            {% endfor %}
          </select>
        </div>

        <div>
          <label class="block text-sm mb-1">Job Title</label>
          <input type="text" name="job_title" class="w-full p-2 border rounded-lg">
        </div>

        <div>
          <label class="block text-sm mb-1">Join Date</label>
          <input type="date" name="join_date" required class="w-full p-2 border rounded-lg">
        </div>

        <div>
          <label class="block text-sm mb-1">Status</label>
          <select name="status" class="w-full p-2 border rounded-lg">
            <option value="Active" selected>Active</option>
            <option value="Inactive">Inactive</option>
          </select>
        </div>

        <!-- Photo upload -->
        <div class="md:col-span-2">
          <label class="block text-sm mb-1">Upload Photo</label>
          <input type="file" name="photo" accept="image/*"
                 required class="w-full p-2 border rounded-lg">
        </div>

      </div>

      <div class="mt-6 text-right">
        <button type="button" onclick="closeAddEmployeeModal()"
                class="px-4 py-2 mr-2 bg-gray-300 rounded-lg">Cancel</button>

        <button type="submit"
                class="px-4 py-2 bg-blue-600 text-white rounded-lg">Add Employee</button>
      </div>

    </form>

  </div>
</div>

<script>
function openAddEmployeeModal() {
  document.getElementById("addEmployeeModal").classList.remove("hidden");
  document.getElementById("addEmployeeModal").classList.add("flex");
}

function closeAddEmployeeModal() {
  document.getElementById("addEmployeeModal").classList.add("hidden");
  document.getElementById("addEmployeeModal").classList.remove("flex");
}
</script>
